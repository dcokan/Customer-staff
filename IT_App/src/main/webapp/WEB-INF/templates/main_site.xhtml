<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
	  xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <link href="/resources/css/main.css" rel="stylesheet" type="text/css"/>
</h:head>

<h:body>
<!-- <h:form> -->
    <div class="page">
        <p:layout fullPage="true">
            <p:layoutUnit styleClass="topMenu" position="north" size="150">
                <ui:insert name="north-content">
                	<h:form rendered="#{not mainPage.userLogged}" styleClass="mainBanner_left" >
								<h:panelGroup layout="block" styleClass="mainBanner_right loginBlock" >
								
			                        <h:panelGrid columns="2" cellpadding="5" styleClass="inlineTable">
			                            <h:outputText for="loginInput" value="Login: "/>
			                            <p:inputText id="loginInput" value="#{loginForm.loginUsername}"/>
			                            <h:outputText for="passwrodInput" value="Password:" />
			        					<p:password id="passwrodInput" value="#{loginForm.password}" required="true" />
			                        </h:panelGrid>
			
									<h:panelGroup layout="block" styleClass="inlineBlockWithBtn">
			                        	<h:commandButton id="loginBtn" value="Login"  actionListener="#{mainPage.loginAction()}" />
			                        	<h:commandLink value="Create account" action="#{mainPage.onAccountCreate}"/>
			                        	<h:commandLink value="Password reminder" action="#{mainPage.onPasswordReminder}"/>
			                        </h:panelGroup>
			                    </h:panelGroup>
			        </h:form>
			        <h:form rendered="#{mainPage.userLogged}">
			       	 	<h:panelGrid columns="2" columnClasses="wideColumn" styleClass="wholeLineTable">
				        	<h:panelGroup layout="block" styleClass="mainBanner_left">
				                <p:selectOneButton value="#{mainPage.selectedTab}" styleClass="adminMenu" >
									<f:selectItems value="#{mainPage.adminTabs}" var="var" itemLabel="#{rb[var.nameKey]}" 
										itemValue="#{var}"/>
									<p:ajax listener="#{mainPage.onAdminTabChange}"/>
						        </p:selectOneButton>
					        </h:panelGroup>
					        <h:panelGroup layout="block" styleClass="mainBanner_right loggedUserBlk">
						        <h:outputText id="loggedUsrInfo" styleClass="loggedUsrLbl" value="#{mainPage.loggedUserName}"/>
						        <h:commandLink id="logoutLnk" value="(logout)" styleClass="loggedUsrLogoutLink" action="#{mainPage.onLogout}" />
					        </h:panelGroup>
			        	</h:panelGrid>
				    </h:form>
                </ui:insert>
            </p:layoutUnit>
            <p:layoutUnit styleClass="noBorderDiv" position="east" size="600">
                <ui:insert name="east-content">
                    Simple default content of empty site
                </ui:insert>
            </p:layoutUnit>
            <p:layoutUnit styleClass="noBorderDiv" position="center">
                <ui:insert name="center-content">
                    Simple default content of empty site
                </ui:insert>
            </p:layoutUnit>
        </p:layout>
    </div>
<!--     </h:form> -->
</h:body>
</html>